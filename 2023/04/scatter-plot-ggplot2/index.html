<!doctype html><html lang=en-us><head><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline"</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.53 with theme Tranquilpeak 0.5.3-BETA"><meta name=author content="Katarzyna Raciecka"><meta name=keywords content><meta name=description content="This is a showcase of using ggplot2 in R to replicate the graph from The Economist showing the relationship between the corruption in countries and the human development index.
Scatter Plot in R using ggplot2This code shows skills in data analysis and visualization using R, specifically using the ggplot2 package for creating and customizing graphs.
It also shows skills in data manipulation using the data.table package for reading and manipulating data."><meta property=og:description content="This is a showcase of using ggplot2 in R to replicate the graph from The Economist showing the relationship between the corruption in countries and the human development index.
Scatter Plot in R using ggplot2This code shows skills in data analysis and visualization using R, specifically using the ggplot2 package for creating and customizing graphs.
It also shows skills in data manipulation using the data.table package for reading and manipulating data."><meta property=og:type content=article><meta property=og:title content="Scatter Plot - ggplot2"><meta name=twitter:title content="Scatter Plot - ggplot2"><meta property=og:url content=https://katrac.github.io/katrac/2023/04/scatter-plot-ggplot2/><meta property=twitter:url content=https://katrac.github.io/katrac/2023/04/scatter-plot-ggplot2/><meta property=og:site_name content="Katarzyna Raciecka - Portfolio"><meta property=og:description content="This is a showcase of using ggplot2 in R to replicate the graph from The Economist showing the relationship between the corruption in countries and the human development index.
Scatter Plot in R using ggplot2This code shows skills in data analysis and visualization using R, specifically using the ggplot2 package for creating and customizing graphs.
It also shows skills in data manipulation using the data.table package for reading and manipulating data."><meta name=twitter:description content="This is a showcase of using ggplot2 in R to replicate the graph from The Economist showing the relationship between the corruption in countries and the human development index.
Scatter Plot in R using ggplot2This code shows skills in data analysis and visualization using R, specifically using the ggplot2 package for creating and customizing graphs.
It also shows skills in data manipulation using the data.table package for reading and manipulating data."><meta property=og:locale content=en-us><meta property=article:published_time content=2023-04-18T00:00:00><meta property=article:modified_time content=2023-04-18T00:00:00><meta property=article:tag content=R><meta property=article:tag content=ggplot2><meta property=article:tag content="data visualisation"><meta name=twitter:card content=summary><meta property=og:image content="https://www.gravatar.com/avatar/d4354958749b718d70e889b1a8d8bbf3?s=640"><meta property=twitter:image content="https://www.gravatar.com/avatar/d4354958749b718d70e889b1a8d8bbf3?s=640"><meta property=og:image content=https://res.cloudinary.com/ds9vgnqna/image/upload/v1681830956/thumbnail_tvjptw.png><meta property=twitter:image content=https://res.cloudinary.com/ds9vgnqna/image/upload/v1681830956/thumbnail_tvjptw.png><title>Scatter Plot - ggplot2</title><link rel=icon href=https://katrac.github.io/katrac/favicon.png><link rel=canonical href=https://katrac.github.io/katrac/2023/04/scatter-plot-ggplot2/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://katrac.github.io/katrac/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css></head><body><div id=blog><header id=header data-behavior=1><i id=btn-open-sidebar class="fa fa-lg fa-bars"></i><div class=header-title><a class=header-title-link href=https://katrac.github.io/katrac/ aria-label="Go to homepage">Katarzyna Raciecka - Portfolio</a></div></header><nav id=sidebar data-behavior=1><div class=sidebar-container><div class=sidebar-profile><a href=https://katrac.github.io/katrac/#about aria-label="Read more about the author"><img class=sidebar-profile-picture src="https://www.gravatar.com/avatar/d4354958749b718d70e889b1a8d8bbf3?s=110" alt="Author's picture"></a><h4 class=sidebar-profile-name>Katarzyna Raciecka</h4><h5 class=sidebar-profile-bio>Financial Professional Turned Data Scientist Skilled in Analytics, Automation, and Data Visualization</h5></div><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://katrac.github.io/katrac/ title=Home><i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden=true></i><span class=sidebar-button-desc>Home</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://katrac.github.io/katrac/tags title=Tags><i class="sidebar-button-icon fas fa-lg fa-tags" aria-hidden=true></i><span class=sidebar-button-desc>Tags</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://github.com/katrac target=_blank rel=noopener title=GitHub><i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden=true></i><span class=sidebar-button-desc>GitHub</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://www.linkedin.com/in/katarzyna-r-316551210/ target=_blank rel=noopener title=LinkedIn><i class="sidebar-button-icon fab fa-lg fa-linkedin-in" aria-hidden=true></i><span class=sidebar-button-desc>LinkedIn</span></a></li></ul><ul class=sidebar-buttons></ul></div></nav><div id=main data-behavior=1 class=hasCoverMetaIn><article class=post id=top><div class="post-header main-content-wrap text-left"><h1 class=post-title>Scatter Plot - ggplot2</h1><div class="postShorten-meta post-meta"><time datetime=2023-04-18T00:00:00Z>18 April 2023</time></div></div><div class="post-content markdown"><div class=main-content-wrap><p>This is a showcase of using <i>ggplot2</i> in R to replicate the graph from <i>The Economist</i> showing the relationship between the corruption in countries and the human development index.</p><div class="figure center fig-100"><a class=fancybox href=https://res.cloudinary.com/ds9vgnqna/image/upload/v1681831724/grey_Rplot01-1_p9pmpf.png title="Scatter Plot in R using ggplot2" data-fancybox><img class=fig-img src=https://res.cloudinary.com/ds9vgnqna/image/upload/v1681831724/grey_Rplot01-1_p9pmpf.png alt="Scatter Plot in R using ggplot2"></a>
<span class=caption>Scatter Plot in R using ggplot2</span></div><p>This code shows skills in <b>data analysis</b> and <b>visualization using R</b>, specifically using the <i>ggplot2</i> package for creating and <b>customizing graphs</b>.</p><p>It also shows skills in <b>data manipulation</b> using the <i>data.table</i> package for reading and manipulating data.</p><p>Additionally, it demonstrates skills in <b>applying statistical methods</b> such as linear regression for smoothing data in <i>ggplot2</i>.</p><p>The code also showcases skills in using various functions to <b>customize the plot and its elements</b>, including adjusting axes limits and tick marks, adding a title, and customizing its appearance using themes.</p><p>Finally, the code shows proficiency in using <b>logical and conditional statements in R</b>, such as the <i>subset()</i> function, to extract specific data subsets based on a set of criteria.</p><h3 id=the-code-in-r>The code in R:</h3><figure class="highlight r language-r"><figcaption><span>Economist_Scatter_Plot.R</span><a href=https://github.com/katrac/Economist_Scatter_Plot/blob/57a9e226b893c449b12942a39fb4168ea3752084/Economist_Scatter_Plot.R target=_blank rel=external>Economist_Scatter_Plot.R</a></figcaption><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br></pre></td><td class=code><pre class="code-highlight language-r r"><code class=r># Re-creating the plot from the Economist using &#39;ggplot2&#39; library. 
# The plot visualises the relationship between corruption and the human development in various countries, based on data from 2011.

# Loading the required libraries.
library(ggplot2)
library(data.table)

# Reading the data. 
df&lt;- fread(&#34;Economist_Assignment_Data.csv&#34;, drop = 1)

head(df)

# Creating the basic scatter plot. 
# Assigning x &amp; y axes, as CPI &amp; HDI respectively. 
# Assigning the colour coding by &#39;Region&#39;. 
# Assigning the size of points to 4 and using &#39;shape&#39; to specify empty circles as points. 
pl &lt;- ggplot(df, aes(x = CPI, y = HDI)) &#43; geom_point(aes(color = Region), size = 4, shape = 1)
print(pl)

# Adding a trend line.
# Passing the following arguments to &#39;geom_smooth()&#39;:
# a. &#39;method&#39; - specifies the type of smoothing, here &#39;lm&#39;, which is the linear regression line will be used to fit the data.
# b. &#39;formula&#39; - formula for smoothing function, here we use logarithmic transformation
# c. &#39;se&#39; - whether to include a shaded area representing the standard error estimate, here &#39;FALSE&#39;.
# d. &#39;color&#39; - setting the line&#39;s color to red. 
pl1 &lt;- pl &#43; geom_smooth(method = &#39;lm&#39;, formula = y ~ log(x), se = FALSE, color = &#39;red&#39;)
print(pl1)

# Adding data labels to scatter points representing the country names from column &#39;Country&#39;.
# The Economist on their graph have only a subset of countries represented with the data label.
# Re-creating that subset and assigning to a variable &#39;pointsToLabel&#39;.
# Using the &#39;subset()&#39; function to only show the data labels for values from &#39;Country&#39; column that match the values in variable &#39;pointsToLabel&#39;.
# Assigning colour to the country labels as well as using &#39;check_overlap&#39; to not show any data labels that could overlap with other labels.
pointsToLabel &lt;- c(&#34;Russia&#34;, &#34;Venezuela&#34;, &#34;Iraq&#34;, &#34;Myanmar&#34;, &#34;Sudan&#34;,
                   &#34;Afghanistan&#34;, &#34;Congo&#34;, &#34;Greece&#34;, &#34;Argentina&#34;, &#34;Brazil&#34;,
                   &#34;India&#34;, &#34;Italy&#34;, &#34;China&#34;, &#34;South Africa&#34;, &#34;Spane&#34;,
                   &#34;Botswana&#34;, &#34;Cape Verde&#34;, &#34;Bhutan&#34;, &#34;Rwanda&#34;, &#34;France&#34;,
                   &#34;United States&#34;, &#34;Germany&#34;, &#34;Britain&#34;, &#34;Barbados&#34;, &#34;Norway&#34;, &#34;Japan&#34;,
                   &#34;New Zealand&#34;, &#34;Singapore&#34;)

pl2 &lt;- pl1 &#43; geom_text(aes(label = Country), color = &#39;gray20&#39;, data = subset(df, Country %in% pointsToLabel), check_overlap = TRUE)
print(pl2)

# Adding a theme to the plot.
pl3 &lt;- pl2 &#43; theme_bw()
print(pl3)

# Using the &#39;scale_x_continuous&#39; function to adjust the x-axis. 
# Assigning a new name to the x-axis.
# Specifying the scale of x-axis being 1-10.
# Adding tick marks at every change of unit on x-axis.
pl4 &lt;- pl3 &#43; scale_x_continuous(name = &#34;Corruption Perception Index, 2011 (10 = least corrupt)&#34;, limits = c(1,10), breaks = (1:10))
print(pl4)

# Using the &#39;scale_y_continuous&#39; function to adjust the y-axis.
# Assigning a new name to the y-axis.
# Specifying the scale of y-axis being 0.2-1.
# Adding tick marks at every 0.2 change of unit on y-axis.
pl5 &lt;- pl4 &#43; scale_y_continuous(name = &#34;Human Development Index, 2011 (1 = Best)&#34;, limits = c(0.2,1), breaks = seq(0.2,1,0.2))
print(pl5)

# Adding the plot title. 
pl6 &lt;- pl5 &#43; ggtitle(&#34;Corruption and Human Development&#34;)
print(pl6)

# Using theme to customise the title.
# Putting the title at the center and increasing the font size.
pl7 &lt;- pl6 &#43; theme(plot.title = element_text(size = 20, hjust = 0.5))
print(pl7)</code></pre></td></tr></tbody></table></figure><h4 id=u-links-to-github-repositories-u><u>Links to GitHub repositories:</u></h4><ul><li><a href=https://github.com/katrac/Economist_Scatter_Plot/blob/57a9e226b893c449b12942a39fb4168ea3752084/Economist_Scatter_Plot.R>R Code</a></li><li><a href=https://github.com/katrac/Economist_Scatter_Plot/blob/57a9e226b893c449b12942a39fb4168ea3752084/Economist_Assignment_Data.csv>Database</a></li><li><a href=https://github.com/katrac/Economist_Scatter_Plot/blob/57a9e226b893c449b12942a39fb4168ea3752084/Economist1.png>Original graph from The Economist</a></li></ul></div></div><div id=post-footer class="post-footer main-content-wrap"><div class=post-footer-tags><span class="text-color-light text-small">TAGGED IN</span><br><a class="tag tag--primary tag--small" href=https://katrac.github.io/katrac/tags/r/>R</a>
<a class="tag tag--primary tag--small" href=https://katrac.github.io/katrac/tags/ggplot2/>ggplot2</a>
<a class="tag tag--primary tag--small" href=https://katrac.github.io/katrac/tags/data-visualisation/>data visualisation</a></div><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://katrac.github.io/katrac/2023/04/absenteeism-at-work-machine-learning-model-tableau/ data-tooltip="Absenteeism at work - Machine Learning Model &amp; Tableau" aria-label="PREVIOUS: Absenteeism at work - Machine Learning Model &amp; Tableau"><i class="fa fa-angle-left"></i><span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span></a></li><li class=post-action><a class="post-action-btn btn btn--disabled"><span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden=true></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#top aria-label="Back to top"><i class="fa fa-arrow-up" aria-hidden=true></i></a></li></ul></div></div></article><footer id=footer class=main-content-wrap><span class=copyrights>&copy; 2023 Katarzyna Raciecka. All Rights Reserved</span></footer></div><div id=bottom-bar class=post-bottom-bar data-behavior=1><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://katrac.github.io/katrac/2023/04/absenteeism-at-work-machine-learning-model-tableau/ data-tooltip="Absenteeism at work - Machine Learning Model &amp; Tableau" aria-label="PREVIOUS: Absenteeism at work - Machine Learning Model &amp; Tableau"><i class="fa fa-angle-left"></i><span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span></a></li><li class=post-action><a class="post-action-btn btn btn--disabled"><span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden=true></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#top aria-label="Back to top"><i class="fa fa-arrow-up" aria-hidden=true></i></a></li></ul></div></div></div><div id=about><div id=about-card><div id=about-btn-close><i class="fa fa-times"></i></div><img id=about-card-picture src="https://www.gravatar.com/avatar/d4354958749b718d70e889b1a8d8bbf3?s=110" alt="Author's picture"><h4 id=about-card-name>Katarzyna Raciecka</h4></div></div><div id=cover style=background-image:url(https://res.cloudinary.com/ds9vgnqna/image/upload/v1681082222/cover-v1.2.0_qc2icd.jpg)></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://katrac.github.io/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js></script><script async crossorigin=anonymous defer integrity="sha512-gE8KAQyFIzV1C9+GZ8TKJHZS2s+n7EjNtC+IMRn1l5+WYJTHOODUM6JSjZhFhqXmc7bG8Av6XXpckA4tYhflnw==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/apache.min.js></script><script async crossorigin=anonymous defer integrity="sha512-EWROca+bote+7Oaaar1F6y74iZj1r1F9rm/ly7o+/FwJopbBaWtsFDmaKoZDd3QiGU2pGacBirHJNivmGLYrow==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/go.min.js></script><script async crossorigin=anonymous defer integrity="sha512-GDVzAn0wpx1yVtQsRWmFc6PhJiLBPdUic+h4GWgljBh904O3JU10fk9EKNpVyIoPqkFn54rgL2QBG4BmUTMpiQ==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/http.min.js></script><script async crossorigin=anonymous defer integrity="sha512-UgZlma8NzkrDb/NWgmLIcTrH7i/CSnLLDRFqCSNF5NGPpjKmzyM25qcoXGOup8+cDakKyaiTDd7N4dyH4YT+IA==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/less.min.js></script><script async crossorigin=anonymous defer integrity="sha512-lot9koe73sfXIrUvIPM/UEhuMciN56RPyBdOyZgfO53P2lkWyyXN7J+njcxIIBRV+nVDQeiWtiXg+bLAJZDTfg==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/nginx.min.js></script><script async crossorigin=anonymous defer integrity="sha512-Zd3e7XxHP00TD0Imr0PIfeM0fl0v95kMWuhyAS3Wn1UTSXTkz0OhtRgBAr4JlmADRgiXr4x7lpeUdqaGN8xIog==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/puppet.min.js></script><script async crossorigin=anonymous defer integrity="sha512-qtqDO052iXMSP+5d/aE/jMtL9vIIGvONgTJziC2K/ZIB1yEGa55WVxGE9/08rSQ62EoDifS9SWVGZ7ihSLhzMA==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/scss.min.js></script><script async crossorigin=anonymous defer integrity="sha512-1NmkjnEDnwwwcu28KoQF8vs3oaPFokQHbmbtwGhFfeDsQZtVFI8zW2aE9O8yMYdpdyKV/5blE4pSWw4Z/Sv97w==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/stylus.min.js></script><script async crossorigin=anonymous defer integrity="sha512-B2wSfruPjr8EJL6IIzQr1eAuDwrsfIfccNf/LCEdxELCgC/S/ZMt/Uvk80aD79m7IqOqW+Sw8nbkvha20yZpzg==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/swift.min.js></script><script async crossorigin=anonymous defer integrity="sha512-28oDiQZGKUVN6wQ7PSLPNipOcmkCALXKwOi7bnkyFf8QiMZQxG9EQoy/iiNx6Zxj2cG2SbVa4dXKigQhu7GiFw==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/yaml.min.js></script><script>$(document).ready(function(){hljs.configure({classPrefix:'',useBR:false});$('pre.code-highlight > code, pre > code').each(function(i,block){if(!$(this).hasClass('codeblock')){$(this).addClass('codeblock');}
hljs.highlightBlock(block);});});</script></body></html>